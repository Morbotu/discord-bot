{"version":3,"sources":["../../src/openwhisk.js"],"names":["exports","rookout","require","start","options","log_file","wrap","originalFunction","args","result","undefined","then","Promise","resolve","reject","value","flush","catch","err"],"mappings":"AAAA;;AAEAA,OAAO,CAACC,OAAR,GAAkBC,OAAO,CAAC,SAAD,CAAzB;;AACAF,OAAO,CAACG,KAAR,GAAgB,CAACC,OAAO,GAAC,EAAT,KAAgB;AAC9BA,EAAAA,OAAO,CAACC,QAAR,GAAmB,EAAnB;AACAL,EAAAA,OAAO,CAACC,OAAR,CAAgBE,KAAhB,CAAsBC,OAAtB;AACD,CAHD;;AAKAJ,OAAO,CAACM,IAAR,GAAgBC,gBAAD,IAAsB;AACnC,SAAQC,IAAD,IAAU;AACf,UAAMC,MAAM,GAAGF,gBAAgB,CAACC,IAAD,CAA/B;;AAEA,QAAIE,SAAS,KAAKD,MAAM,CAACE,IAAzB,EAA+B;AAC7B,aAAO,IAAIC,OAAJ,CAAa,CAACC,OAAD,EAAUC,MAAV,KAAqB;AACvCL,QAAAA,MAAM,CAACE,IAAP,CAAaI,KAAD,IAAW;AACrBf,UAAAA,OAAO,CAACC,OAAR,CAAgBe,KAAhB;AACAH,UAAAA,OAAO,CAACE,KAAD,CAAP;AACD,SAHD;;AAKA,YAAIL,SAAS,KAAKD,MAAM,CAACQ,KAAzB,EAAgC;AAC9BR,UAAAA,MAAM,CAACQ,KAAP,CAAcC,GAAD,IAAS;AACpBlB,YAAAA,OAAO,CAACC,OAAR,CAAgBe,KAAhB;AACAF,YAAAA,MAAM,CAACI,GAAD,CAAN;AACD,WAHD;AAID;AACF,OAZM,CAAP;AAaD,KAdD,MAcO;AACLlB,MAAAA,OAAO,CAACC,OAAR,CAAgBe,KAAhB;AACA,aAAOP,MAAP;AACD;AACF,GArBD;AAsBD,CAvBD","sourcesContent":["'use strict';\n\nexports.rookout = require('./index');\nexports.start = (options={}) => {\n  options.log_file = \"\";\n  exports.rookout.start(options);\n};\n\nexports.wrap = (originalFunction) => {\n  return (args) => {\n    const result = originalFunction(args);\n\n    if (undefined !== result.then) {\n      return new Promise(((resolve, reject) => {\n        result.then((value) => {\n          exports.rookout.flush();\n          resolve(value);\n        });\n\n        if (undefined !== result.catch) {\n          result.catch((err) => {\n            exports.rookout.flush();\n            reject(err);\n          });\n        }\n      }));\n    } else {\n      exports.rookout.flush();\n      return result;\n    }\n  }\n};\n"],"file":"openwhisk.js"}